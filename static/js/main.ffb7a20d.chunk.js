(this["webpackJsonppokemon-game"]=this["webpackJsonppokemon-game"]||[]).push([[0],{17:function(e,t,a){e.exports={root:"style_root__8jBuI",wrapper:"style_wrapper__NXAPi",title:"style_title__GDEfM",separator:"style_separator__idOF1",subtitle:"style_subtitle__3fuYY",desc:"style_desc__2YqDh",full:"style_full__2lh0m",whiteTitle:"style_whiteTitle__LJrVb"}},20:function(e,t,a){e.exports={root:"style_root__2ASvw",bgActive:"style_bgActive__OFTol",navWrapper:"style_navWrapper__iCvL6",brand:"style_brand__1mrNi",menuButton:"style_menuButton__1Wc9D",active:"style_active__rtaBH",navbar:"style_navbar__tQSl5"}},22:function(e,t,a){e.exports={root:"style_root__3icv2",board:"style_board__1_Nqd",boardPlate:"style_boardPlate__3PbP9",disabled:"style_disabled__iajTA",playerOne:"style_playerOne__1YYYH",playerTwo:"style_playerTwo__3FQ9l"}},23:function(e,t,a){e.exports={root:"style_root__2mX4c",buttonWrapper:"style_buttonWrapper__Wn8MI",playerCardWrapper:"style_playerCardWrapper__2P-62",card:"style_card__2lFKa",selected:"style_selected__2zCtQ",flex:"style_flex__3rIQn",title:"style_title__1r6C4",message:"style_message__3VdKn"}},24:function(e,t,a){e.exports={root:"style_root__1ACAt","stars-move-in":"style_stars-move-in__3Cz3G",forest:"style_forest__j0v-g","forest-move-in":"style_forest-move-in__2pYKx",silhouette:"style_silhouette__1PpNM","silhouette-move-in":"style_silhouette-move-in__3MF2a",moon:"style_moon__DFR62","moon-move-in":"style_moon-move-in__3DFzy",container:"style_container__3yGGy","text-fade-in":"style_text-fade-in__FYu-O"}},25:function(e,t,a){e.exports={menuContainer:"style_menuContainer__-t0EO",overlay:"style_overlay__26SXL",active:"style_active__3Z9W5","overlay-slide-in":"style_overlay-slide-in__33OOV","overlay-slide-out":"style_overlay-slide-out__Qqkrt",deactive:"style_deactive__3IOM9","fade-out":"style_fade-out__oAnmf","fade-in":"style_fade-in__zAYCn","slide-out":"style_slide-out__JzHuP","slide-in":"style_slide-in__3SIU_","menu-container":"style_menu-container__36-IT"}},28:function(e,t,a){e.exports={flex:"style_flex__gxt4j",buttonWrap:"style_buttonWrap__16sxA",card:"style_card__2KdJx"}},29:function(e,t,a){e.exports={cardBoard:"style_cardBoard__3jYIM",selected:"style_selected__OE_E0",player2:"style_player2__c7MV8"}},34:function(e,t,a){e.exports={wrap:"style_wrap__1il54",isHomePage:"style_isHomePage__2ULsR"}},4:function(e,t,a){e.exports={pokemonCard:"style_pokemonCard__1T0Ja",active:"style_active__l23rX",selected:"style_selected__1-pFj",cardFront:"style_cardFront__20FXq",cardBack:"style_cardBack__2w06a",wrap:"style_wrap__dSlkx",front:"style_front__1ZPT6",red:"style_red__lRFLF",player2:"style_player2__3oUPz",back:"style_back__3FDYN",pokemon:"style_pokemon__1cW8W",fire:"style_fire__4uDVv",grass:"style_grass__1V0iS",electric:"style_electric__3kZTc",water:"style_water__1XMx3",ground:"style_ground__2cQRY",rock:"style_rock__2jcaJ",fairy:"style_fairy__X35sL",poison:"style_poison__Wa8nq",bug:"style_bug__cju9k",dragon:"style_dragon__2UOX3",psychic:"style_psychic__n5QqJ",flying:"style_flying__2uYWu",fighting:"style_fighting__qtU12",normal:"style_normal__ckYCl",blue:"style_blue__3ZQy-",imgContainer:"style_imgContainer__F54G3",info:"style_info__30t5K",number:"style_number__3R343",name:"style_name__13mqj",type:"style_type__2SYaY",values:"style_values__JqaWW",count:"style_count__E_CXp",top:"style_top__1jm4E",left:"style_left__QR2rw",right:"style_right__3A_cs",bottom:"style_bottom__ymQ0R",removed:"style_removed__29S51",flipFront:"style_flipFront__26oS8"}},40:function(e,t,a){e.exports={wrapper:"style_wrapper__25pAR"}},53:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(38),r=a.n(c),o=a(5),i=a(6),l=a(10),d=a.n(l),j=a(8),u=a(7),b=a(28),_=a.n(b),p=a(4),m=a.n(p),h=a(1),O=function(e){var t,a=e.className,n=e.name,s=e.img,c=e.id,r=e.type,i=e.values,l=e.minimize,j=e.isActive,u=e.isSelected,b=e.onClickCard,_=e.possession,p=e.isPlayer2,O=e.isRemoved;return Object(h.jsxs)("div",{className:d()(a,m.a.pokemonCard,(t={},Object(o.a)(t,m.a.active,j),Object(o.a)(t,m.a.selected,u),Object(o.a)(t,m.a.removed,O),t)),onClick:function(){!O&&b&&b(c)},children:[Object(h.jsx)("div",{className:m.a.cardFront,children:Object(h.jsx)("div",{className:d()(m.a.wrap,m.a.front,m.a[_],Object(o.a)({},m.a.player2,p)),children:Object(h.jsxs)("div",{className:d()(m.a.pokemon,m.a[r],m.a[_]),children:[Object(h.jsxs)("div",{className:m.a.values,children:[Object(h.jsx)("div",{className:d()(m.a.count,m.a.top),children:i.top}),Object(h.jsx)("div",{className:d()(m.a.count,m.a.right),children:i.right}),Object(h.jsx)("div",{className:d()(m.a.count,m.a.bottom),children:i.bottom}),Object(h.jsx)("div",{className:d()(m.a.count,m.a.left),children:i.left})]}),Object(h.jsx)("div",{className:m.a.imgContainer,children:Object(h.jsx)("img",{src:s,alt:n})}),!l&&Object(h.jsxs)("div",{className:m.a.info,children:[Object(h.jsxs)("span",{className:m.a.number,children:["#",c]}),Object(h.jsx)("h3",{className:m.a.name,children:n}),Object(h.jsxs)("small",{className:m.a.type,children:["Type: ",Object(h.jsx)("span",{children:r})]})]})]})})}),Object(h.jsx)("div",{className:m.a.cardBack,children:Object(h.jsx)("div",{className:d()(m.a.wrap,m.a.back)})})]})},y=s.a.createContext(null),f=s.a.createContext(null),x=function(){var e=Object(n.useContext)(y),t=Object(n.useContext)(f),a=Object(n.useState)({}),s=Object(u.a)(a,2),c=s[0],r=s[1],l=Object(i.g)();Object(n.useEffect)((function(){return e.getPokemonSoket((function(e){r(e)})),function(){return e.offPokemonSoket()}}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:_.a.buttonWrap,children:[Object(h.jsx)("div",{className:_.a.message,children:Object(h.jsx)("h1",{children:"Choose 5 pokemons to play"})}),Object(h.jsx)("button",{onClick:function(){l.push("/game/board")},disabled:Object.keys(t.pokemons).length<5,children:"Play"})]}),Object(h.jsx)("div",{className:_.a.flex,children:Object.entries(c).map((function(e){var a=Object(u.a)(e,2),n=a[0],s=a[1],i=s.name,l=s.img,d=s.id,b=s.type,p=s.values,m=s.selected;return Object(h.jsx)(O,{className:_.a.card,id:d,name:i,type:b,values:p,img:l,isActive:!0,isSelected:m,onClickCard:function(){(Object.keys(t.pokemons).length<5||m)&&function(e){var a=Object(j.a)({},c[e]);t.onSelectedPokemons(e,a),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(o.a)({},e,Object(j.a)(Object(j.a)({},t[e]),{},{selected:!t[e].selected})))}))}(n)}},d)}))})]})},v=a(16),g=a.n(v),k=a(27),w=a(29),N=a.n(w),C=function(e){var t=e.cards,a=e.onClickCard,s=e.player,c=Object(n.useState)(null),r=Object(u.a)(c,2),i=r[0],l=r[1],b=2===s;return Object(h.jsx)(h.Fragment,{children:t.map((function(e){var t;return Object(h.jsx)("div",{className:d()(N.a.cardBoard,(t={},Object(o.a)(t,N.a.selected,i===e.id),Object(o.a)(t,N.a.player2,b),t)),onClick:function(){l(e.id),a&&a(Object(j.a)({player:s},e))},children:Object(h.jsx)(O,{id:e.id,name:e.name,type:e.type,values:e.values,img:e.img,minimize:!0,isActive:!0,isPlayer2:b},e.id)},e.id)}))})},P=a(22),S=a.n(P),A=function(){var e=Object(n.useContext)(f),t=e.pokemons,a=e.setGameResult,s=e.setPlayer2Pokemons,c=Object(n.useState)([]),r=Object(u.a)(c,2),o=r[0],l=r[1],d=Object(n.useState)((function(){return Object.values(t).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{possession:"blue"})}))})),b=Object(u.a)(d,2),_=b[0],p=b[1],m=Object(n.useState)([]),y=Object(u.a)(m,2),x=y[0],v=y[1],w=Object(n.useState)(null),N=Object(u.a)(w,2),P=N[0],A=N[1],F=Object(n.useState)(0),T=Object(u.a)(F,2),W=T[0],B=T[1],I=Object(i.g)();Object(n.useEffect)(Object(k.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactmarathon-api.netlify.app/api/board");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,l(a.data),e.next=9,fetch("https://reactmarathon-api.netlify.app/api/create-player");case 9:return n=e.sent,e.next=12,n.json();case 12:c=e.sent,s(c.data),v((function(){return c.data.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{possession:"red"})}))}));case 15:case"end":return e.stop()}}),e)}))),[]),0===Object.keys(t).length&&I.replace("/game");var R=function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=13;break}return a={position:t,card:P,board:o},e.next=4,fetch("https://reactmarathon-api.netlify.app/api/players-turn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,l(s.data),1===P.player&&p((function(e){return e.filter((function(e){return e.id!==P.id}))})),2===P.player&&v((function(e){return e.filter((function(e){return e.id!==P.id}))})),l(s.data),B((function(e){return++e}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(9===W){var e=function(e,t,a){var n=t.length,s=a.length;return e.forEach((function(e){"red"===e.card.possession&&s++,"blue"===e.card.possession&&n++})),[n,s]}(o,_,x),t=Object(u.a)(e,2),n=t[0],s=t[1];a(n>s?"win":n<s?"loose":"draw"),I.replace("/game/finish")}}),[W,o,_,x]),Object(h.jsxs)("div",{className:S.a.root,children:[Object(h.jsx)("div",{className:S.a.playerOne,children:Object(h.jsx)(C,{player:1,cards:_,onClickCard:function(e){return A(e)}})}),Object(h.jsx)("div",{className:S.a.board,children:o.map((function(e){return Object(h.jsx)("div",{className:S.a.boardPlate,onClick:function(){return!e.card&&R(e.position)},children:e.card&&Object(h.jsx)(O,Object(j.a)(Object(j.a)({},e.card),{},{isActive:!0,minimize:!0}))},e.position)}))}),Object(h.jsx)("div",{className:S.a.playerTwo,children:Object(h.jsx)(C,{player:2,cards:x,onClickCard:function(e){return A(e)}})})]})},F=a(23),T=a.n(F),W=function(){var e=Object(n.useContext)(f),t=e.pokemons,a=e.player2Pokemons,s=e.gameResult,c=Object(i.g)(),r=Object(n.useContext)(y),o={win:{title:"You win",desc:"Take one pokemon from player2",cards:a},loose:{title:"You loose",desc:"Player2 takes one pokemon",cards:t},draw:{title:"Draw",desc:"Nobody wins any pokemons",cards:{}},error:{title:"Error",desc:"Please start new game",cards:{}}},l=Object(n.useState)(o[s].cards),d=Object(u.a)(l,2),b=d[0],_=d[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:T.a.buttonWrap,children:Object(h.jsxs)("div",{className:T.a.message,children:[Object(h.jsx)("p",{className:T.a.title,children:o[s].title}),Object(h.jsx)("h1",{children:o[s].desc})]})}),Object(h.jsx)("div",{className:T.a.flex,children:Object.entries(b).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1],o=n.name,i=n.img,l=n.id,d=n.type,p=n.values,m=n.selected,y=n.isRemoved;return Object(h.jsx)(O,{className:T.a.card,id:l,name:o,type:d,values:p,img:i,isActive:!0,isSelected:m,isRemoved:y,onClickCard:function(){!function(e,t){switch(_((function(t){var a=Object(j.a)({},t);return a[e].isRemoved=!0,a})),t){case"win":r.addPokemon(b[e],(function(){return console.log("addPokemon: ",b[e])}));break;case"loose":r.removePokemon(e,(function(){return console.log("removePokemon: ",b[e])}));break;default:console.log("Error: ","run handleRemoveSelected with wrong gameResult")}setTimeout((function(){return c.push("/game")}),1e3)}(a,s)}},l)}))})]})},B=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],s=t[1],c=Object(i.i)(),r=Object(n.useState)("error"),l=Object(u.a)(r,2),d=l[0],b=l[1],_=Object(n.useState)({}),p=Object(u.a)(_,2),m=p[0],O=p[1];return Object(h.jsx)(f.Provider,{value:{pokemons:a,onSelectedPokemons:function(e,t){s((function(a){if(a[e]){var n=Object(j.a)({},a);return delete n[e],n}return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},player2Pokemons:m,setPlayer2Pokemons:O,gameResult:d,setGameResult:b},children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"".concat(c.path,"/"),exact:!0,component:x}),Object(h.jsx)(i.b,{path:"".concat(c.path,"/board"),component:A}),Object(h.jsx)(i.b,{path:"".concat(c.path,"/finish"),component:W})]})})},I=(a(53),a(54),a(24)),R=a.n(I),E=function(e){var t=e.title,a=e.descr,n=(e.onClickButton,Object(i.g)());return Object(h.jsxs)("header",{className:R.a.root,children:[Object(h.jsx)("div",{className:R.a.forest}),Object(h.jsx)("div",{className:R.a.silhouette}),Object(h.jsx)("div",{className:R.a.moon}),Object(h.jsxs)("div",{className:R.a.container,children:[Object(h.jsx)("h1",{children:t}),Object(h.jsx)("p",{children:a}),Object(h.jsx)("button",{onClick:function(){n.push("/game")},children:"Start game"})]})]})},Y=a(17),z=a.n(Y),H=function(e){var t=e.title,a=e.descr,n=e.urlBg,s=e.colorBg,c=e.children,r={};return n&&(r.backgroundImage="url(".concat(n,")")),s&&(r.backgroundColor=s),Object(h.jsx)("section",{className:z.a.root,style:r,children:Object(h.jsx)("div",{className:z.a.wrapper,children:Object(h.jsxs)("article",{children:[Object(h.jsxs)("div",{className:z.a.title,children:[Object(h.jsx)("h3",{className:z.a.whiteTitle,children:t}),Object(h.jsx)("span",{className:z.a.separator})]}),Object(h.jsxs)("div",{className:z.a.desc+" "+z.a.full,children:[Object(h.jsx)("p",{children:a}),c]})]})})})},Q=function(e){var t=e.onChangePage;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E,{title:"Pokemons",descr:"Triple triad card game",onClickButton:function(e){t&&t(e)}}),Object(h.jsxs)(H,{title:"Game rules",colorBg:"#181d23",children:[Object(h.jsxs)("p",{children:['In the game two players face off against one another, one side playing as "yellow", the other as "red" on a 3x3 grid.',Object(h.jsx)("br",{}),"Each player has five cards in a hand and the aim is to capture the opponent's cards by turning them into the player's own color of red or yellow."]}),Object(h.jsx)("p",{children:"To win, a majority of the total ten cards played (including the one card that is not placed on the board) must be of the player's card color."}),Object(h.jsx)("p",{children:"To do this, the player must capture cards by placing a card adjacent to an opponent's card whereupon the 'ranks' of the sides where the two cards touch will be compared."}),Object(h.jsx)("p",{children:"If the rank of the opponent's card is higher than the player's card, the player's card will be captured and turned into the opponent's color."}),Object(h.jsx)("p",{children:"If the player's rank is higher, the opponent's card will be captured and changed into the player's color instead. "}),Object(h.jsx)("p",{children:"If the player's rank is higher, the opponent's card will be captured and changed into the player's color instead. "}),Object(h.jsx)("p",{children:" The game ends, when all playground is occupied by cards (9 cards used)"}),Object(h.jsx)("p",{children:"Player, who have more card's at the end of the round wins."}),Object(h.jsx)("p",{children:"Winner select and take one card from the opponent's stack"})]})]})},q=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"This is AboutPage"})})},D=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Error 404: page not found"})})},M=a(25),J=a.n(M),L=a(13),G=[{title:"HOME",to:"/"},{title:"GAME",to:"game"},{title:"ABOUT",to:"about"}],X=function(e){var t,a=e.isOpen,n=e.onClickHamburg;return Object(h.jsxs)("div",{className:d()(J.a.menuContainer,(t={},Object(o.a)(t,J.a.active,!0===a),Object(o.a)(t,J.a.deactive,!1===a),t)),children:[Object(h.jsx)("div",{className:J.a.overlay}),Object(h.jsx)("div",{className:J.a.menuItems,children:Object(h.jsx)("ul",{children:G.map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsx)(L.b,{to:e.to,onClick:n,children:e.title})},t)}))})})]})},U=a(20),K=a.n(U),V=function(e){var t=e.isOpen,a=e.bgActive,n=void 0!==a&&a,s=e.onClickHamburg;return Object(h.jsx)("nav",{className:d()(K.a.root,Object(o.a)({},K.a.bgActive,n)),children:Object(h.jsxs)("div",{className:K.a.navWrapper,children:[Object(h.jsx)("p",{children:Object(h.jsx)(L.b,{to:"/",children:Object(h.jsx)("span",{className:K.a.brand,children:"Pokemons"})})}),Object(h.jsx)("div",{onClick:s,className:d()(K.a.menuButton,Object(o.a)({},K.a.active,t)),children:Object(h.jsx)("span",{})})]})})},Z=function(e){var t=e.bgActive,a=Object(n.useState)(null),s=Object(u.a)(a,2),c=s[0],r=s[1],o=function(){r((function(e){return!e}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(X,{isOpen:c,onClickHamburg:o}),Object(h.jsx)(V,{isOpen:c,bgActive:t,onClickHamburg:o})]})},$=a(40),ee=a.n($),te=function(){return Object(h.jsx)("footer",{children:Object(h.jsxs)("div",{className:ee.a.wrapper,children:[Object(h.jsx)("h3",{children:"Developed by @iq-developer"}),Object(h.jsx)("p",{children:"\xa9 2021 - 2022 #ReactMarathon."})]})})},ae=a(34),ne=a.n(ae),se=a(41),ce=a(35);a(55);ce.a.initializeApp({apiKey:"AIzaSyDg_8LWEBlzI7gE6uQHL4kNIL-pPQga_q8",authDomain:"pokemon-game1-9882b.firebaseapp.com",databaseURL:"https://pokemon-game1-9882b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pokemon-game1-9882b",storageBucket:"pokemon-game1-9882b.appspot.com",messagingSenderId:"38316478032",appId:"1:38316478032:web:4d60d94f91c88cf5e80b55"});var re=function e(){var t=this;Object(se.a)(this,e),this.getPokemonSoket=function(e){t.database.ref("pokemons").on("value",(function(t){e(t.val())}))},this.offPokemonSoket=function(){t.database.ref("pokemons").off()},this.getPokemonsOnce=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.database.ref("pokemons").once("value").then((function(e){return e.val()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.postPokemon=function(e,a){t.database.ref("pokemons/".concat(e)).set(a)},this.addPokemon=function(e,a){var n=t.database.ref().child("pokemons").push().key;t.database.ref("pokemons/"+n).set(e).then((function(){return a()}))},this.removePokemon=function(e,a){t.database.ref("pokemons/".concat(e)).set(null).then((function(){return a()}))},this.fire=ce.a,this.database=this.fire.database()},oe=function(){var e=Object(i.h)(),t="/"===e.pathname||"/game/board"===e.pathname;return Object(h.jsx)(y.Provider,{value:new re,children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/404",component:D}),Object(h.jsx)(i.b,{children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Z,{bgActive:!t}),Object(h.jsx)("div",{className:d()(ne.a.wrap,Object(o.a)({},ne.a.isHomePage,t)),children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/",exact:!0,component:Q}),Object(h.jsx)(i.b,{path:"/home",render:function(){return Object(h.jsx)(i.a,{to:"/"})}}),Object(h.jsx)(i.b,{path:"/pokemon-game",render:function(){return Object(h.jsx)(i.a,{to:"/"})}}),Object(h.jsx)(i.b,{path:"/game",component:B}),Object(h.jsx)(i.b,{path:"/about",component:q}),Object(h.jsx)(i.b,{render:function(){return Object(h.jsx)(i.a,{to:"/404"})}})]})}),Object(h.jsx)(te,{})]})})]})})};r.a.render(Object(h.jsx)(L.a,{children:Object(h.jsx)(oe,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.ffb7a20d.chunk.js.map